<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analysis and Visualisation of Benchmark Experiments • mlr3benchmark</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Analysis and Visualisation of Benchmark Experiments">
<meta name="description" content="Implements methods for post-hoc analysis and visualisation of benchmark experiments, for mlr3 and beyond.">
<meta property="og:description" content="Implements methods for post-hoc analysis and visualisation of benchmark experiments, for mlr3 and beyond.">
<meta property="og:image" content="https://mlr3benchmark.mlr-org.com/logo.svg">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">mlr3benchmark</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3benchmark/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="mlr3benchmark">mlr3benchmark<a class="anchor" aria-label="anchor" href="#mlr3benchmark"></a>
</h1>
</div>
<p>Analysis and tools for benchmarking in <a href="https://github.com/mlr-org/mlr3" class="external-link">mlr3</a>.</p>
<!-- badges: start -->

<div class="section level2">
<h2 id="what-is-mlr3benchmark">What is mlr3benchmark?<a class="anchor" aria-label="anchor" href="#what-is-mlr3benchmark"></a>
</h2>
<p>Do you have a large benchmark experiment with many tasks, learners, and measures, and don’t know where to begin with analysis? Do you want to perform a complete quantitative analysis of benchmark results to determine which learner truly is the ‘best’? Do you want to visualise complex results for benchmark experiments in one line of code?</p>
<p>Then <strong>mlr3benchmark</strong> is the answer, or at least will be once it’s finished maturing.</p>
<p><strong>mlr3benchmark</strong> enables fast and efficient analysis of benchmark experiments in just a few lines of code. As long as you can coerce your results into a format fitting our classes (which have very few requirements), then you can perform your benchmark analysis with <strong>mlr3benchmark</strong>.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the last release from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"mlr3benchmark"</span><span class="op">)</span></span></code></pre></div>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"mlr-org/mlr3benchmark"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="feature-overview">Feature Overview<a class="anchor" aria-label="anchor" href="#feature-overview"></a>
</h2>
<p>Currently <strong>mlr3benchmark</strong> only supports analysis of multiple learners over multiple tasks. The current implemented features are best demonstrated by example!</p>
<p>First we run a mlr3 benchmark experiment:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3.mlr-org.com" class="external-link">mlr3</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3learners.mlr-org.com" class="external-link">mlr3learners</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">tsks</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"iris"</span>, <span class="st">"sonar"</span>, <span class="st">"wine"</span>, <span class="st">"zoo"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">learns</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">lrns</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"classif.featureless"</span>, <span class="st">"classif.rpart"</span>, <span class="st">"classif.xgboost"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">bm</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/benchmark.html" class="external-link">benchmark</a></span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/benchmark_grid.html" class="external-link">benchmark_grid</a></span><span class="op">(</span><span class="va">task</span>, <span class="va">learns</span>, <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span><span class="op">(</span><span class="st">"cv"</span>, folds <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now we create a <code>BenchmarkAggr</code> object for our analysis, these objects store measure results after being <em>aggregated</em> over all resamplings:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># these measures are the same but we'll continue for the example</span></span>
<span><span class="va">ba</span> <span class="op">=</span> <span class="fu"><a href="reference/as_benchmark_aggr.html">as_benchmark_aggr</a></span><span class="op">(</span><span class="va">bm</span>, measures <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msrs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"classif.acc"</span>, <span class="st">"classif.ce"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ba</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="do">## &lt;BenchmarkAggr&gt; of 12 rows with 4 tasks, 3 learners and 2 measures</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="do">##     task_id  learner_id       acc         ce</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="do">##      &lt;fctr&gt;      &lt;fctr&gt;     &lt;num&gt;      &lt;num&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="do">##  1:    iris featureless 0.2800000 0.72000000</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="do">##  2:    iris       rpart 0.9466667 0.05333333</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="do">##  3:    iris     xgboost 0.9600000 0.04000000</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="do">##  4:   sonar featureless 0.5334023 0.46659765</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="do">##  5:   sonar       rpart 0.6537612 0.34623879</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="do">##  6:   sonar     xgboost 0.6394755 0.36052450</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="do">##  7:    wine featureless 0.3990584 0.60094162</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="do">##  8:    wine       rpart 0.8652542 0.13474576</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="do">##  9:    wine     xgboost 0.9048023 0.09519774</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="do">## 10:     zoo featureless 0.4058229 0.59417706</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="do">## 11:     zoo       rpart 0.8309566 0.16904337</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="do">## 12:     zoo     xgboost 0.9099822 0.09001783</span></span></code></pre></div>
<p>Now we can begin our analysis! In <strong>mlr3benchmark</strong>, analysis of multiple learners over multiple independent tasks follows the guidelines of Demsar (2006). So we begin by checking if the global Friedman test is significant: is there are a significant difference in the rankings of the learners over all the tasks?</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ba</span><span class="op">$</span><span class="fu">friedman_test</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="do">##      X2 df    p.value p.signif</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="do">## acc 6.5  2 0.03877421        *</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="do">## ce  6.5  2 0.03877421        *</span></span></code></pre></div>
<p>Both measures are significant, so now we can proceed with the post-hoc tests. Now comparing each learner to each other with post-hoc Friedman-Nemenyi tests:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ba</span><span class="op">$</span><span class="fu">friedman_posthoc</span><span class="op">(</span>meas <span class="op">=</span> <span class="st">"acc"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="do">##  Pairwise comparisons using Nemenyi-Wilcoxon-Wilcox all-pairs test for a two-way balanced complete block design</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="do">## data: acc and learner_id and task_id</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="do">##         featureless rpart</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="do">## rpart   0.181       -    </span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="do">## xgboost 0.036       0.759</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="do">## P value adjustment method: single-step</span></span></code></pre></div>
<p>The results tell us that xgboost is significantly different from the featureless model, but all other comparisons are non-significant. This doesn’t tell us <em>which</em> of xgboost and featureless is better though, the most detailed information is given in a critical difference diagram, note we include <code>minimize = FALSE</code> as accuracy should be maximised:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">ba</span>, type <span class="op">=</span> <span class="st">"cd"</span>, meas <span class="op">=</span> <span class="st">"acc"</span>, minimize <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png"><!-- --></p>
<p>We read the diagram from left to right, so that learners to the left have the highest rank and are the best performing, and decrease going right. The thick horizontal lines connect learners that are <em>not</em> significantly difference in ranked performance, so this tells us:</p>
<ol style="list-style-type: decimal">
<li>xgboost is significantly better than featureless</li>
<li>xgboost is not significantly better than rpart</li>
<li>rpart is not significantly better than featureless</li>
</ol>
<p>Now we visualise two much simpler plots which display similar information, the first is the mean and standard error of the results across all tasks, the second is a boxplot across all tasks:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">ba</span>, meas <span class="op">=</span> <span class="st">"acc"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png"><!-- --></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">ba</span>, type <span class="op">=</span> <span class="st">"box"</span>, meas <span class="op">=</span> <span class="st">"acc"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-2.png"><!-- --></p>
<p>We conclude that xgboost is significantly better than the baseline but not significantly better than the decision tree but the decision tree is not significantly better than the baseline, so we will recommend xgboost for now.</p>
<p>The analysis is complete!</p>
</div>
<div class="section level2">
<h2 id="roadmap">Roadmap<a class="anchor" aria-label="anchor" href="#roadmap"></a>
</h2>
<p><strong>mlr3benchmark</strong> is in its early stages and the interface is still maturing, near-future updates will include:</p>
<ul>
<li>Extending <code>BenchmarkAggr</code> to non-independent tasks</li>
<li>Extending <code>BenchmarkAggr</code> to single tasks</li>
<li>Adding <code>BenchmarkScore</code> for non-aggregated measures, e.g. observation-level scores</li>
<li>Bayesian methods for analysis</li>
</ul>
</div>
<div class="section level2">
<h2 id="bugs-questions-feedback">Bugs, Questions, Feedback<a class="anchor" aria-label="anchor" href="#bugs-questions-feedback"></a>
</h2>
<p><strong>mlr3benchmark</strong> is a free and open source software project that encourages participation and feedback. If you have any issues, questions, suggestions or feedback, please do not hesitate to open an “issue” about it on the <a href="https://github.com/mlr-org/mlr3benchmark/issues" class="external-link">GitHub page</a>! In case of problems / bugs, it is often helpful if you provide a “minimum working example” that showcases the behaviour (but don’t worry about this if the bug is obvious).</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=mlr3benchmark" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/mlr-org/mlr3benchmark/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mlr-org/mlr3benchmark/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/LGPL-3" class="external-link">LGPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mlr3benchmark</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sonabend Raphael <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-9225-4654" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Florian Pfisterer <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8867-762X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Sebastian Fischer <br><small class="roles"> Maintainer, contributor </small> <a href="https://orcid.org/0000-0002-9609-3197" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sonabend Raphael, Florian Pfisterer, Sebastian Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
